<ng-container *ngIf="config.enableManageAccounts; else titleOnly">
  <bb-heading-widget [heading]="heading" [headingType]="'h1'" [buttonTitle]="manageAccounts" [iconClasses]="'settings'" [customClassName]="'px-0 flex-row align-items-center'" [buttonClasses]="'btn btn-link w-auto bb-button bb-button--xs-hide-text m-0'" (buttonAction)="navigateToAccountManagement()"></bb-heading-widget>
</ng-container>

<ng-template #titleOnly>
  <bb-heading-widget [heading]="heading" [headingType]="'h1'"></bb-heading-widget>
</ng-template>

<bb-product-summary-list-widget [showIcons]="config.showAccountTypes" [maskIndicator]="config.maskIndicator" (selectedAccount)="onAccountSelect($event)"></bb-product-summary-list-widget>


<ng-template bbProductKindCustomizable let-hostRef let-item="context">
  <div class="bb-product-kind-ui d-flex align-items-center">
    <div class="bb-product-kind-ui__item flex-grow-1" (click)="hostRef.onSelectProductKind($event)">
      
        <ng-container [ngSwitch]="item.kind">
          <!-- Current Account -->
          <ng-container *ngSwitchCase="'currentAccounts'">
            <bb-product-item-current-account-ui [title]="hostRef.getAlias(item)" [amount]="item.bookedBalance" [currency]="item.currency" [mainSectionCurrency]="item.currency" [mainSectionAmount]="item.availableBalance" mainSectionTitle="Available Balance" i18n-mainSectionTitle="Available Balance|Main Section tittle
            @@product-summary-item-current-account-ui.main.section.title" [secondarySectionCurrency]="item.currency" [secondarySectionAmount]="item.creditLimitUsage" secondarySectionTitle="Credit Limit" i18n-secondarySectionTitle="Credit Limit|Secondary Section tittle
            @@product-summary-item-current-account-ui.secondary.section.title" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemCurrentAccountTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-current-account-ui>
          </ng-container>

          <!-- bb-savings-account -->
          <ng-container *ngSwitchCase="'savingsAccounts'">
            <bb-product-item-savings-account-ui [title]="hostRef.getAlias(item)" [amount]="item.bookedBalance" [currency]="item.currency" [mainSectionCurrency]="item.currency" [mainSectionAmount]="item.accruedInterest" mainSectionTitle="Accrued interest" i18n-mainSectionTitle="Accrued interest|Main Section tittle
            @@product-summary-item-saving-accounts-ui.main.section.title" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemSavingsAccountTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-savings-account-ui>
          </ng-container>

          <!-- bb-term-deposit -->
          <ng-container *ngSwitchCase="'termDeposits'">
            <bb-product-item-term-deposit-ui [title]="hostRef.getAlias(item)" [amount]="item.principalAmount" [currency]="item.currency" [mainSectionCurrency]="item.currency" [mainSectionAmount]="item.accountInterestRate" mainSectionTitle="Accrued interest" i18n-mainSectionTitle="Accrued interest|Accrued interest tittle
            @@product-summary-item-term-deposit-ui.main.section.title" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemTermDepositTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-term-deposit-ui>
          </ng-container>

          <!-- bb-loan -->
          <ng-container *ngSwitchCase="'loans'">
            <bb-product-item-loan-ui [title]="hostRef.getAlias(item)" [amount]="item.bookedBalance" [currency]="item.currency" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemLoanTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-loan-ui>
          </ng-container>

          <!-- bb-credit-card -->
          <ng-container *ngSwitchCase="'creditCards'">
            <bb-product-item-credit-card-ui [title]="hostRef.getAlias(item)" [amount]="item.bookedBalance" [currency]="item.currency" [mainSectionCurrency]="item.currency" [mainSectionAmount]="item.availableBalance" mainSectionTitle="Available Balance" i18n-mainSectionTitle="Available Balance|Main Section tittle
            @@product-summary-item-credit-card-ui.main.section.title" [secondarySectionCurrency]="item.currency" [secondarySectionAmount]="item.creditLimit" secondarySectionTitle="Credit Limit" i18n-secondarySectionTitle="Credit Limit|Secondary Section tittle
            @@product-summary-item-credit-card-ui.secondary.section.title" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemCreditCardTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-credit-card-ui>
          </ng-container>

          <!-- bb-debit-card -->
          <ng-container *ngSwitchCase="'debitCards'">
            <bb-product-item-debit-card-ui [title]="hostRef.getAlias(item)" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemDebitCardTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-debit-card-ui>
          </ng-container>

          <!-- bb-investment-account -->
          <ng-container *ngSwitchCase="'investmentAccounts'">
            <bb-product-item-investment-account-ui [title]="hostRef.getAlias(item)" [amount]="item.currentInvestmentValue" [currency]="item.currency" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemInvestmentAccountTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-investment-account-ui>
          </ng-container>

          <!-- bb-basic-account -->
          <ng-container *ngSwitchDefault>
            <bb-product-item-basic-account-ui [title]="hostRef.getAlias(item)" [amount]="item.bookedBalance" [currency]="item.currency" [active]="false" [productDetailsInfo]="{
            'owners': item.accountHolderNames || ''
          }">
              <ng-template bbCustomProductItemBasicAccountTitle>
                <ng-container *ngTemplateOutlet="productTitle"></ng-container>
              </ng-template>
            </bb-product-item-basic-account-ui>
          </ng-container>

        </ng-container>
    </div>
    <sbsa-product-item-dropdown-ui class="pl-5"></sbsa-product-item-dropdown-ui>

    <ng-template #productTitle>
      <bb-product-item-custom-title-ui [title]="hostRef.getAlias(item)" [titleInteractive]="true" [productNumber]="item | bbProductNumberValue" [productNumberType]="item | bbProductNumberType" [favorite]="item?.userPreferences?.favorite" [state]="item?.state?.state" (selectCustomTitle)="hostRef.onSelectProductKind($event)"></bb-product-item-custom-title-ui>
    </ng-template>
  </div>
</ng-template>